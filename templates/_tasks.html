{% if 0 == p:total() then %}
	{{ ("No tasks satisfying the request."):tr() }}
{% else %}
	{% local pageNav = include("_pagenav.html", {func="showTasksPage"}) %}
	{{ pageNav }}
	<table><thead><tr><td>!</td><td>{{ ("title"):tr():capitalize() }}</td><td>{{ ("status"):tr():capitalize() }}</td><td>{{ ("assigned to"):tr():capitalize() }}</td><td>{{ ("term"):tr():capitalize() }}</td><td>{{ ("author"):tr():capitalize() }}</td></tr></thead><tbody>
	{% for _, task in tasks() do %}
	<tr
		{% if task:isDone() then %}
			class="done"
		{% elseif task.important == 1 then %}
			class="important"
		{% elseif task:isNew() then %}
			class="new"
		{% end %}
	>
		<td>{{ safe(task:field"important":asAjax()) }}</td>
		<td style="white-space:nowrap"><a href="/task/{{ task.pk }}"><img src="/images/help_16.png" width="16" height="16" alt="{{ ("detalied info"):tr():capitalize() }}" title="{{ ("detalied info"):tr():capitalize() }}" /></a>{{ safe(task:field"title":asAjax()) }}{% if task.createdBy == user then %} <a href="javascript:deleteTask({{task.pk}});"><img src="/images/remove_16.png" width="16" height="16" title="{{ ("delete task"):tr():capitalize() }}" alt="{{ ("delete task"):tr():capitalize() }}" /></a>{% end %}</td>
		<td>{{ safe(task:field"status":asAjax()) }}</td>
		<td>{{ safe(task:field"assignedTo":asAjax()) }}</td>
		<td style="white-space:nowrap">{{ safe(task:field"timeToBeDone":asAjax()) }}{{ safe(task:field"dateToBeDone":asAjax()) }}</td>
		<td>{{ task.createdBy }}</td>
	</tr>
	{% end %}
	</tbody></table>
	{{ pageNav }}
{% end %}
{{ safe(debugger) }}
